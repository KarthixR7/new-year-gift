<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">

<meta charset="UTF-8">
<title>For Rishi â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif;
}

body{
  background: linear-gradient(135deg,#0f0c29,#302b63,#24243e);
  color:#fff;
  height:100vh;
  overflow:hidden;
}

section{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:30px;
}

section.active{
  display:flex;
  animation:fadeSlide 1s ease;
}

@keyframes fadeSlide{
  from{opacity:0; transform:translateY(30px);}
  to{opacity:1; transform:translateY(0);}
}

.wrap{
  max-width:900px;
  position:relative;
  z-index:2;
}

h1{
  font-size:2.6rem;
  margin-bottom:15px;
}

p{
  font-size:1.15rem;
  line-height:1.8;
  opacity:0.9;
  margin-bottom:18px;
}

.btn{
  margin-top:25px;
  padding:14px 34px;
  font-size:1.05rem;
  border:none;
  border-radius:40px;
  background:linear-gradient(135deg,#ff5fa2,#ff2f85);
  color:white;
  cursor:pointer;
  box-shadow:0 0 20px rgba(255,95,162,.4);
  transition:.3s;
}

.btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 30px rgba(255,95,162,.7);
}

.countdown{
  display:flex;
  gap:18px;
  justify-content:center;
  margin-top:20px;
}

.box{
  background:rgba(255,255,255,.12);
  padding:18px;
  border-radius:16px;
  min-width:80px;
  backdrop-filter:blur(10px);
}

.num{
  font-size:2rem;
  font-weight:700;
}

.label{
  font-size:.75rem;
  opacity:.7;
}

.big-love{
  font-size:3rem;
  font-weight:800;
  line-height:1.2;
}

.memory{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:25px;
  margin-top:25px;
}

.memory img{
  width:100%;
  border-radius:16px;
}

video{
  width:90%;
  max-width:800px;
  border-radius:18px;
  box-shadow:0 0 30px rgba(255,255,255,.25);
}

/* ğŸ”¥ FIREWORKS CANVAS */
#fireworks{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:1;
}

@media(max-width:768px){
  h1{font-size:2rem}
  .big-love{font-size:2.2rem}
  .memory{grid-template-columns:1fr}
}
</style>
</head>

<body>

<!-- BACKGROUND MUSIC -->
<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<!-- ACT 1 -->
<section id="act1" class="active">
  <div class="wrap">
    <h1>Hey Rishi â¤ï¸</h1>
    <p>Before this year beginsâ€¦ I made something just for you.</p>

    <div class="countdown">
      <div class="box"><div class="num" id="d">00</div><div class="label">Days</div></div>
      <div class="box"><div class="num" id="h">00</div><div class="label">Hours</div></div>
      <div class="box"><div class="num" id="m">00</div><div class="label">Minutes</div></div>
      <div class="box"><div class="num" id="s">00</div><div class="label">Seconds</div></div>
    </div>

    <button class="btn" id="unlockBtn" disabled>
  Unlocks at New Year ğŸ’«
</button>

  </div>
</section>

<!-- ACT 2 -->
<section id="act2">
  <div class="wrap">
    <h1>Before the year beginsâ€¦</h1>
    <p>I wanted you to hear this from me.</p>

    <video id="loveVideo" controls>
      <source src="video.mp4" type="video/mp4">
    </video>

    <button class="btn" onclick="go(3)">Continue â¤ï¸</button>
  </div>
</section>

<!-- ACT 3 -->
<section id="act3">
  <div class="wrap">

    <div class="letter-paper">
      <h2>Rishiâ€¦.</h2>

      <p>Love youuuu ğŸ˜˜ğŸ˜˜ğŸ˜˜</p>

      <p>
        First lo ninnu chusinappude anukunna,
        mana iddari madhyalo edho bonding undhi aniâ€¦ (Love you)
        Adhi manam trip ki vellaka inka clear ga ardham ayyindhi.
      </p>

      <p>
        Aa trip lo ney nenu ninnu first time proper ga chusanu.
        Naaku inka gurthu â€”
        aa train lo nuvvu ni bag paina pettukuni
        nannu chusina aa choopuâ€¦
        adhi na heart lo ippatiki undhi.
      </p>

      <!-- photos inside letter -->
      <div class="letter-photos">
        <img src="photos/pic1.jpg" alt="">
        <img src="photos/pic2.jpg" alt="">
      </div>

      <p>
        Tarvatha manam ala ala close ayyam.
        Trip ayipoyaka,
        nuvvu naaku propose chesav.
      </p>

      <p>
        Nen first lo â€œnoâ€ cheppanuâ€¦
        ayina nuvvu aagadhu ğŸ˜…
        Gola gola chesav.
        â€œNaaku nuvve kavali,
        inka evaru odduâ€ ani.
      </p>

      <p>
        Nijam cheppalante,
        nen em cheyyaleka oppeskunna ğŸ˜®â€ğŸ’¨
      </p>

      <p>
        Sareâ€¦ ippudu topic loki osthey,
        manam relation lo undhi August 14 nunchi.
        5 and half months aa!
        Time chaala fast ga aipothundhi Rishiâ€¦ (Love you)
      </p>

      <p>
        Ee New Year nunchi
        manam inka close ga,
        inka happy ga undali.
        Anthey.
      </p>

      <p>
        <strong>Happy New Year Rishi ğŸ’“ğŸ’ğŸ’—</strong><br>
        Love you. Always.
      </p>
    </div>

    <button class="btn" onclick="go(4)">Continue â¤ï¸</button>

  </div>
</section>


<!-- ACT 4 -->
<section id="act4">
  <div class="wrap">
    <div class="big-love">
      I love you.<br>
      Every year.<br>
      Forever.
    </div>
    <button class="btn" onclick="go(5)">Continue â¤ï¸</button>
  </div>
</section>

<!-- ACT 5 -->
<section id="act5">
  <canvas id="fireworks"></canvas>

  <!-- polaroid background -->
  <div class="polaroid-bg">
    <img src="photos/p1.jpg" class="polaroid1" alt="">
    <img src="photos/p2.jpg" class="polaroid2" alt="">
    <img src="photos/p3.jpg" class="polaroid3" alt="">
    <img src="photos/p4.jpg" class="polaroid4" alt="">
    <img src="photos/p5.jpg" class="polaroid5" alt="">
    <img src="photos/p6.jpg" class="polaroid6" alt="">
    <img src="photos/p7.jpg" class="polaroid7" alt="">
  </div>

  <div class="wrap">
    <h1>ğŸ† Happy New Year ğŸ†</h1>
    <p style="font-size:1.4rem;">Rishi â¤ï¸ Karthik</p>
  </div>
</section>


<script>
/* ---------- ACT NAV ---------- */
const acts=[...document.querySelectorAll('section')];
function go(n){
  acts.forEach(a=>a.classList.remove('active'));
  document.getElementById('act'+n).classList.add('active');
  if(n === 5) startFireworks();
}

/* ---------- MUSIC ---------- */
const bgm=document.getElementById("bgm");
function startMusic(){
  if(bgm.paused){
    bgm.volume=0.06;
    bgm.play().catch(()=>{});
  }
}

const video=document.getElementById("loveVideo");
video.addEventListener("play",()=>{ if(!bgm.paused) bgm.pause(); });
video.addEventListener("ended",()=>{
  bgm.volume=0.04;
  bgm.play().catch(()=>{});
});

/* ---------- FIREWORKS ---------- */
let canvas,ctx,particles=[],running=false;

function startFireworks(){
  if(running) return;
  running=true;

  canvas=document.getElementById("fireworks");
  ctx=canvas.getContext("2d");
  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);

  setInterval(()=>burst(Math.random()*canvas.width,Math.random()*canvas.height*0.6),700);
  setInterval(()=>heart(canvas.width/2,canvas.height/2.6),3500);

  animate();
}

function resizeCanvas(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
}

function burst(x,y){
  for(let i=0;i<60;i++){
    const a=Math.random()*Math.PI*2;
    particles.push({
      x,y,
      vx:Math.cos(a)*3,
      vy:Math.sin(a)*3,
      life:80,
      heart:false
    });
  }
}

function heart(x,y){
  for(let t=0;t<Math.PI*2;t+=0.15){
    const hx=16*Math.pow(Math.sin(t),3);
    const hy=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    particles.push({
      x,y,
      vx:hx*0.12,
      vy:hy*0.12,
      life:120,
      heart:true
    });
  }
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,i)=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.vy+=0.02;
    p.life--;

    ctx.fillStyle=p.heart
      ? `rgba(255,80,130,${p.life/120})`
      : `rgba(255,200,220,${p.life/80})`;

    ctx.fillRect(p.x,p.y,2,2);

    if(p.life<=0) particles.splice(i,1);
  });
  requestAnimationFrame(animate);
}
/* ğŸ‰ NEW YEAR COUNTDOWN (IST) */
const targetDate = new Date("January 1, 2026 00:00:00 GMT+0530").getTime();

const daysEl = document.getElementById("d");
const hoursEl = document.getElementById("h");
const minsEl = document.getElementById("m");
const secsEl = document.getElementById("s");

function updateCountdown(){
  const now = new Date().getTime();
  const diff = targetDate - now;

  if(diff <= 0){
    daysEl.textContent = "00";
    hoursEl.textContent = "00";
    minsEl.textContent = "00";
    secsEl.textContent = "00";
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((diff / (1000 * 60)) % 60);
  const seconds = Math.floor((diff / 1000) % 60);

  daysEl.textContent = String(days).padStart(2,"0");
  hoursEl.textContent = String(hours).padStart(2,"0");
  minsEl.textContent = String(minutes).padStart(2,"0");
  secsEl.textContent = String(seconds).padStart(2,"0");
}

setInterval(updateCountdown, 1000);
updateCountdown();

/* ğŸ”’ LOCK UNTIL NEW YEAR */
const unlockBtn = document.getElementById("unlockBtn");
const targetUnlock = new Date("January 1, 2026 00:00:00 GMT+0530").getTime();

function checkUnlock(){
  const now = new Date().getTime();

  if(now >= targetUnlock){
    unlockBtn.disabled = false;
    unlockBtn.textContent = "Continue â¤ï¸";
    unlockBtn.onclick = () => {
      startMusic();
      go(2);
    };
  } else {
    unlockBtn.disabled = true;
  }
}

// check every second
setInterval(checkUnlock, 1000);
checkUnlock();

</script>

</body>
</html>
